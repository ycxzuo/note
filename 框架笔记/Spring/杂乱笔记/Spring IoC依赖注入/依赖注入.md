# 依赖注入

## 依赖注入的模式

### 手动模式

配置或者编程的方式，提前安排注入规则

* XML 资源配置元信息
* Java 注解配置元信息
* API 配置元信息



### 自动模式

实现方提供依赖自动关联的方式，按照内建的注入规则

* Autowiring  （自动绑定）



## 依赖注入的类型

| 依赖注入类型 | 配置元信息举例                                |
| ------------ | --------------------------------------------- |
| Setter 方法  | <property name="user" ref="userBean"/>        |
| 构造器       | <constructor-arg name="user" ref="userBean">  |
| 字段         | @Autowired User user;                         |
| 方法         | @Autowired public void user(User user){...}   |
| 接口回调     | class MyBean implements BeanFactoryAware{...} |



## 自动绑定 Autowiring modes

枚举参考：`org.springframework.beans.factory.annotation.Autowire`

| 模式        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| no          | 默认值，未激活 Autowiring，需要手动指定依赖注入对象          |
| byName      | 根据被注入属性的名称作为 Bean 名称进行依赖查找，并将对象设置到该属性 |
| byType      | 根据被注入属性的类型作为依赖类型进行查找，并将对象设置到该属性 |
| constructor | 特殊 byType 类型，用于构造器参数                             |



## Setter 方法注入

### 手动模式

* XML 资源配置元信息
* Java 注解配置元信息
* API 配置元信息



### 自动模式

* Autowiring  （自动绑定）
  * byName
  * byType