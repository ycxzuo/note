# 字节码指令简介

## 概述

### Java虚拟机

由操作码和操作数组成

* 操作码（Opcode）
  * 由一个字节长度的、代表着某种特定操作含义的数字
* 操作数（Operands）
  * 以及紧跟操作码的零至多个代表此操作所需参数

Java虚拟机采用面向的操作数栈而不是寄存器的架构，所以大多数指令都不含操作数，只有一个操作码

### 字节码指令集

一种具有鲜明特点、优劣势都很突出的指令集架构

#### 劣势

* 由于限制了Java虚拟机操作码的长度为一个字节，这意味着操作码总数不能超过256条
  * 由于Class文件放弃了编译后代码的操作数长度对齐，这就意味着虚拟机处理那些超过一个字节的数据时，不得不在运行时从字节中重建出具体数据的结构，如果将一个16位字节长度的无符号字节存储起来（`byte1`，`byte2`），那么他们的值应该是这样的 -> `（byte1 << 8 | byte2)`，这样做会损失性能

#### 优势

* 放弃了操作数长度对齐，意味着可以省略很多填充和间隔符号
  * 用一个字节来代表操作码，也是尽可能获得短小精干的编译代码。这种尽可能小数据量、高传输效率的设计是由Java语言设计之初面向网络、智能家电的技术背景所决定的，并一直沿用至今

### 基本的执行模型

```java
do{
    自动计算PC寄存数
}
```

